<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
td {
  width: 100px;
}
.tbutton, .sitButton, .accDec, .RnameText {
    height: 25px;
    cursor: pointer;
    font-size: 12px;
}
.tbutton {
  background-color: white;
  border-left: 2px solid darkslategray;
  border-top: 2px solid darkslategray;
  border-bottom: 2px solid darkslategray;
  border-right: 1px solid darkslategray;
  text-align: center;
  padding: 0 0 0 25px;
  display: inline-block;
  border-radius: 8px 0 0 8px;
  width: 70px;
}
button:focus {outline:0;}
.tbutton:hover {
  opacity: 0.9;
}
.sitButton {
  width: 25px;
  border-radius: 0 8px 8px 0;
  background-color: darkslategray;
  border: 2px solid darkslategray;
  position: absolute;
  display: inline;
  text-align: center;
}
.sitButton:hover {
  opacity: 0.9;
}
.RnameText, .accDec {
  background-color: white;
  border: 2px solid white;
  box-shadow: none;
}
.accDec {
  text-align: center;
  width: 10px;
  margin-right: 3px;
  font-size: 12px;
}
.RnameText {
  text-align: left;
  width: 90px;
  display: inline-block;
}
.decl {}
</style>
<script>
function otherrows(raiders, nofcolumns, row, rown){
  for (i=0; i<nofcolumns; i++) {
        var cell = row.insertCell(i);
          if (i===0){
            createCell1(cell, row, i, raiders, rown)
      } else {
          createCell(cell, rown, i)
        }} i = rown
}
function createCell1(cell, row, i, raiders, rown){
  RowId = row;
  cell.innerHTML =
  "<button class ='accDec' onclick='setAcc(this)' id=('accepted' + RowId)><i class='fa fa-check' style='color:DarkSeaGreen'></i></button>"+
  "<button class ='accDec' onclick='setDec(this)' id=('declined' + RowId)><i class='fa fa-close' style='color:darkslategray'></i></button>"+
  "<button id=('nameText' + RowId) class='RnameText'>"+raiders[rown-1]+"</button>";
  cell.style.width="130px";
}

function createCell(cell, rown, i) {
  cellid = "r" + [rown] + "c" + [i];
  setdraftid = "setDraftStatus" + cellid
  cell.innerHTML =
"<button id="+setdraftid+" class='tbutton' onclick='setDraftStatus(this)'></button>" +
"<button class='sitButton' id=('setStandby' + cellid) onclick='setAsStandby(this)''></button>";
  document.getElementById(setdraftid).innerText = "-";
}

function setAsStandby(button) {
  var standbyTicked = button.parentElement.getElementsByClassName("tbutton")[0];
  standbyTicked.style.backgroundColor = "darkslategray";
  standbyTicked.innerText = "standby";
  standbyTicked.style.color = "white";
}
function setColour(varName, bcCol, textCol, borderCol) {
  varName.style.backgroundColor = bcCol;
  varName.style.border = borderCol;
  varName.style.color = textCol;
}
function setAcc(button) {
  var varName = button.parentElement.getElementsByClassName("RnameText")[0];
  if (varName.style.backgroundColor == "darkseagreen") {
    var bcCol = "white";
    var textCol = "black";
    var borderCol = "white";
    setColour(varName, bcCol, textCol, borderCol)
  } else {
    var bcCol = "DarkSeaGreen";
    var textCol = "white";
    var borderCol = "DarkSeaGreen";
    setColour(varName, bcCol, textCol, borderCol)
  }}
function setDec(button){
  var varName = button.parentElement.getElementsByClassName("RnameText")[0];
  if (varName.style.backgroundColor == "darkslategray") {
    var bcCol = "white";
    var textCol = "black";
    var borderCol = "white";
    setColour(varName, bcCol, textCol, borderCol)
  } else {
    var bcCol = "darkslategray";
    var textCol = "white";
    var borderCol = "darkslategray";
    button.parentElement.class = "decl";
    setColour(varName, bcCol, textCol, borderCol)
  }}

function createfirstrow(bosses, nofcolumns, row, rown){
  for (i=0; i<nofcolumns; i++) {
    var cell = row.insertCell(i);
      if (i===0){
        cell.innerHTML = "";
      } else
    cell.innerHTML = bosses[i-1];
    cell.style.textAlign="center";
    cell.style.height="50px";
  } i = rown
}
  function createTable(){
    var table = document.getElementById("draftTable");
    var raiders = ["Vala", "Haseo", "Ilnezhara"];
    var bosses = ["Argus", "Aggramar", "Coven"];
    var nofrows = raiders.length + 1;
    var nofcolumns = bosses.length + 1;
    for (i=0; i<nofrows; i++){
      var rown = i
      var row = table.insertRow(i);
      if (i === 0) {
        createfirstrow(bosses, nofcolumns, row, rown)
      } else {
        otherrows(raiders, nofcolumns, row, rown)
      }
    }}
    function setDraftStatus(button){
      var vala = "00101";
      var raiderStatus = button
      raiderStatus.style.color = "black";
      if (raiderStatus.innerText === "DPS") {
        if ((vala.charAt(3)) === "1") {
          raiderStatus.innerText = "tank";
          raiderStatus.style.backgroundColor = "lightgray";
        } else if ((vala.charAt(2)) === "1") {
          raiderStatus.innerText = "healer";
          raiderStatus.style.backgroundColor = "DarkSeaGreen";
        } else {
            raiderStatus.innerText = "-";
            raiderStatus.style.backgroundColor = "white";
      }} else if (raiderStatus.innerText === "tank") {
            if ((vala.charAt(2)) === "1") {
            raiderStatus.innerText = "healer";
            raiderStatus.style.backgroundColor = "DarkSeaGreen";
          } else {
          raiderStatus.innerText = "-";
          raiderStatus.style.backgroundColor = "white";
      }} else if (raiderStatus.innerText === "-") {
      raiderStatus.innerText = "x";
      raiderStatus.style.backgroundColor = "lavender";
    } else if (raiderStatus.innerText === "x") {
        if ((vala.charAt(0)) === "1" || (vala.charAt(1)) === "1") {
        raiderStatus.innerText = "DPS";
        raiderStatus.style.backgroundColor = "lightblue";
      } else if ((vala.charAt(3)) === "1") {
        raiderStatus.innerText = "tank";
        raiderStatus.style.backgroundColor = "lightgray";
      } else if ((vala.charAt(2)) === "1") {
        raiderStatus.innerText = "healer";
        raiderStatus.style.backgroundColor = "DarkSeaGreen";
    }} else {
        raiderStatus.innerText = "-";
        raiderStatus.style.backgroundColor = "white";
    }}
function hideShowDeclined(){
  var dectext = document.getElementById("HiDe").innerText;
  if (dectext === "Hide Declined") {
    hideDeclined()
  } else {showDeclined()}
}

function showDeclined(){
  var table = document.getElementById("draftTable");
  var nofr = table.rows.length;
  for (i=1; i<nofr; i++){
      table.rows[i].style.display = "";
    }
  document.getElementById("HiDe").innerText = "Hide Declined";
}

function hideDeclined(){
  var table = document.getElementById("draftTable");
  var nofr = table.rows.length;
  for (i=1; i<nofr; i++){
    var cellstatus = table.rows[i].cells[0];
    if (cellstatus.class === "decl") {
      table.rows[i].style.display = "none";
    }
  }
  document.getElementById("HiDe").innerText = "Show Declined";
}

</script>
</head>
<body onload = "createTable()">
<table id="draftTable">
</table>
<br><br>
<button id="HiDe" onclick="hideShowDeclined()">Hide Declined</button>
<p style="display:none">
  <button class ="accDec" onclick="setAcc()" id="accepted"><i class="fa fa-check" style="color:DarkSeaGreen"></i></button>
  <button class ="accDec" onclick="setDec()" id="declined"><i class="fa fa-close" style="color:darkslategray"></i></button>
  <button id="nameText" class="RnameText">Name</button>
  <button class="tbutton" onclick="setDraftStatus(this)">-</button>
  <button class="sitButton" id="setStandby" onclick="setAsStandby()"></button></p>
</body>
</html>
